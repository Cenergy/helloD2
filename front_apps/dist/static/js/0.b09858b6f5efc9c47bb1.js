webpackJsonp([0],{"3S6p":function(e,s,t){e.exports=t.p+"static/img/btn3.8e9b875.png"},"3eEU":function(e,s){},ccZh:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=t("mvHQ"),i=t.n(a),o={data:function(){return{dialogShow:!1,paperShow:!1,messageShow:!1,message:"",dialogMessage:"",precheckNum:0,mouseOpacity:!1,isTables:!1}},methods:{paperHandle:function(){this.messageShow=!1,this.dialogShow=!0,this.dialogMessage="请将纸质版文档放入指定位置，然后点击确认放纸进行下一步",this.paperShow=!0},paperConfirm:function(){this.isTables?this.tables():this.precheck(this.paper)},paper:function(){var e=this;this.paperShow=!1,this.message="获取纸张信息，请稍候...",this.messageShow=!0,this.$axios({method:"get",url:"/stamp/paper/"}).then(function(s){if(console.log(s),200===s.status&&200===s.data.code){var t=i()(s.data.data);e.$router.push({path:"preview",query:{data:t}})}else 200===s.status&&294===s.data.code?(e.messageShow=!1,e.dialogMessage=s.data.message,e.isTables=e.paperShow=!0):(e.message=s.data.message,setTimeout(function(){e.dialogShow=e.messageShow=!1},3e3))}).catch(function(s){e.message="服务器错误，请稍后重试",setTimeout(function(){e.dialogShow=e.messageShow=!1},3e3),console.log(s)})},tables:function(){var e=this;this.paperShow=!1,this.message="获取纸张信息，请稍候...",this.messageShow=!0,this.$axios({method:"get",url:"/stamp/tables/"}).then(function(s){if(console.log(s),200===s.status&&200===s.data.code){s.data.data.Img_contract=s.data.data.Img_draw=s.data.data.Img;var t=i()(s.data.data);e.$router.push({path:"preview",query:{data:t}})}else e.message=s.data.message,setTimeout(function(){e.dialogShow=e.messageShow=e.isTables=!1},3e3)}).catch(function(s){e.message="服务器错误，请稍后重试",setTimeout(function(){e.dialogShow=e.messageShow=!1},3e3),console.log(s)})},elecHandle:function(e){var s=this;this.paperShow=!1,this.message="上传中，请稍候...",this.dialogShow=this.messageShow=!0;var t=new FormData;t.append("file",e.target.files[0]),this.$axios.post("/stamp/electron/",t).then(function(e){console.log(e),200===e.status&&200===e.data.code?s.precheck(s.paper):(s.message=e.data.message,setTimeout(function(){s.dialogShow=s.messageShow=!1},7e3))}).catch(function(e){s.message="服务器错误，请稍后重试",setTimeout(function(){s.dialogShow=s.messageShow=!1},3e3),console.log(e)})},precheck:function(e){var s=this;this.paperShow=!1,this.message="入纸中，请稍候...",this.messageShow=!0,this.$axios({method:"get",url:"/stamp/precheck/"}).then(function(t){console.log(t),200===t.status&&200===t.data.code?e():s.precheckNum>5?(s.message="入纸失败，请稍后重试",s.precheckNum=0,setTimeout(function(){s.dialogShow=s.messageShow=!1},7e3)):(s.message=t.data.message,s.precheckNum++,setTimeout(function(){s.precheck(e)},3e3))}).catch(function(e){s.message="服务器错误，请稍后重试",setTimeout(function(){s.dialogShow=s.messageShow=!1},3e3),console.log(e)})},historyHandle:function(){this.$router.push("/history")},moreHandle:function(){this.$router.push("/Control")},dialogHandle:function(){this.isTables?this.paper():this.dialogShow=this.paperShow=this.messageShow=this.isTables=!1}}},n={render:function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"menu"},[a("header-tab"),e._v(" "),a("div",{staticClass:"item"},[a("div",{staticClass:"menu-item"},[a("img",{staticClass:"item",attrs:{src:t("yu8o"),alt:""},on:{click:e.paperHandle}}),e._v(" "),a("div",{staticClass:"file"},[a("img",{staticClass:"item",class:{opacity:e.mouseOpacity},attrs:{src:t("3S6p"),alt:""}}),e._v(" "),a("input",{ref:"file",staticClass:"upload",attrs:{type:"file"},on:{change:e.elecHandle,mouseenter:function(s){e.mouseOpacity=!0},mouseleave:function(s){e.mouseOpacity=!1}}})])]),e._v(" "),a("div",{staticClass:"menu-item"},[a("img",{staticClass:"item",attrs:{src:t("lzMJ"),alt:""},on:{click:e.historyHandle}}),e._v(" "),a("img",{staticClass:"item",attrs:{src:t("fZqu"),alt:""},on:{click:e.moreHandle}})])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dialogShow,expression:"dialogShow"}],staticClass:"dialog",on:{click:function(s){!e.messageShow&&e.dialogHandle()}}},[e.paperShow?a("div",{staticClass:"paper",on:{click:function(e){e.stopPropagation()}}},[a("p",{staticClass:"text"},[e._v(e._s(e.dialogMessage))]),e._v(" "),a("div",{staticClass:"btn",on:{click:e.paperConfirm}},[e._v("确认")]),e._v(" "),a("div",{staticClass:"btn",on:{click:function(s){!e.messageShow&&e.dialogHandle()}}},[e._v("取消")])]):e._e(),e._v(" "),e.messageShow?a("div",{staticClass:"message"},[e._v(e._s(e.message))]):e._e()])],1)},staticRenderFns:[]};var c=t("VU/8")(o,n,!1,function(e){t("3eEU")},"data-v-285454c3",null);s.default=c.exports},fZqu:function(e,s,t){e.exports=t.p+"static/img/btn2.bdeb128.png"},lzMJ:function(e,s,t){e.exports=t.p+"static/img/btn4.3f48023.png"},mvHQ:function(e,s,t){e.exports={default:t("qkKv"),__esModule:!0}},qkKv:function(e,s,t){var a=t("FeBl"),i=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},yu8o:function(e,s,t){e.exports=t.p+"static/img/btn1.d092c99.png"}});
//# sourceMappingURL=0.b09858b6f5efc9c47bb1.js.map